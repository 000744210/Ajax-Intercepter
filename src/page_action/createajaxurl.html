<style>
	#mainPopup {
		height: 500px;
		width: 400px;
		font-family: Helvetica, Ubuntu, Arial, sans-serif;
	}
	
	body{
		margin:0;
	}
	
	header{
		height:30px;
		width:100%;
		background-color:rgb(0, 145, 234);
		color:white;
		text-align:center;
	}
	
	.centered{
		text-align:center;
	}
	
	.container {

	  clear: both;
	}

	.container .full-width-input {
	  width: 100%;
	  clear: both;
	}	
	
	.continue-btn{
		  background-color: rgb(0, 145, 234);
		  border: none;
		  color: white;
		  padding: 5px;
		  text-align: center;
		  text-decoration: none;
		  display: block;
		  font-size: 16px;
		  margin: 4px 2px;
		  width:130px;
		  cursor: pointer;
		  border-radius:4px;
		  margin-left:auto;
		  margin-right:auto;
	}
.back-btn{
    color: white;
    margin-top: 21px;
    float: left;
    background-color: rgb(0, 145, 234);
    padding: 3px;
    border-radius: 4px;
    margin-left: 2px;
}

.back-btn > a{
	text-decoration:none;
	color:white;
}

textarea
{
  font-size:11px;
  width: 100%;
  height: 200px;
  tab-size: 4;
}
</style>


<div id="mainPopup">
	<header><h1>Ajax Request Tester</h1></header>
	<span class='back-btn'><a id='editGroupUrl' href=''>Back</a></span><h1 class='centered'>Create Ajax Url Filter</h1>
	<div class='container'>
			<label for='domain'>Ajax URL</label><span style='float:right;color:#929292;padding-right:3px'>API address to match. Use * for wildcard.</span>
			<input id='domain' name='domain' class='full-width-input' placeholder='https://api.google.com/getinfo'></input>
			<br><br>
			<div><label for='automation'>Advanced Automation</label><input type='checkbox' id='automation' name='automation'></input></div>
<div id='automationSection' style='display:none;'>
<textarea class="tabSupport" id="codeBox" style='height:332px;' spellcheck="false">async function onRequestDataSend(request)
{
	console.log("Intercepted ", request);
	// Modify the request object here.
	return request;	
}

async function onRequestDataReturn(event){
	console.log("Intercepted", event);
	// modify the received event object.
	return event;
}

// onRequestDataReturn is a function for receiving 
//
//  
//
// event object contains a reject function for dropping the packet.


// The objects passed to the onRequestDataSend function
// formRequest = {
// 	  type : "Form",
//
//	  args : {},    // The arguments being sent to the API.
//
//	  url : "",     // The url of the API.
//
//	  method : "",  // GET/POST/PUT/DELETE
//
//	  reject : function(){}
//	  // Reject will cancel the network call.
//    // May break the website's code.   
// }

// xmlHttpRequestRequest = {
// 	  type : "XmlHttpRequest",  
//
//	  args : {},    // The arguments being sent to the API.
//
//	  url : "",     // The url of the API.
//
//	  method : "",  // GET/POST/PUT/DELETE
//
//	  headers : {}, // The headers which are being sent.
// 
//	  body : ''     // The body which is being sent 
//				    // with the POST/PUT/DELETE request.
//
//	  reject : function(){}
//	  // Reject will cancel the network call.
//    // May break the website's code.   
// }

// FetchRequest = {
// 	  type : "Fetch",    
//
//	  url : "",     // The url of the API.
//
//	  options : {}  // The options for the fetch request.
//
//	  reject : function(){}
//	  // Reject will cancel the network call.
//    // May break the website's code.   
// }

// WebSocketSendRequest = {
// 	  type : "WebSocket",    
//
//	  data : "",
//
//	  reject : function(){}
//	  // Reject will cancel the network call.
//    // May break the website's code.   
// }</textarea>
	<br><br>
	<label>Library Loader</label><span style='float:right;color:#929292;padding-right:3px'>List of script urls to load to the page.</span>
	<br>
	<textarea id="libBox" style='height:30px;' placeholder='https://code.jquery.com/jquery-3.5.1.min.js' spellcheck="false"></textarea>
</div>			
<br><br>
		<button class="continue-btn" id='continueBtn'>Continue</button>
	</div>
</div>

<script src="/js/jquery.js"></script>
<script src='/js/tabsupport.js'></script>
<script src='/src/page_action/createajaxurl.js'></script>